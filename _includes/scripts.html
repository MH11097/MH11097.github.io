<!-- Tracking Script from original -->
<script>
  let serialize = function(obj) {
    var str = [];
    for(var p in obj)
      if (obj.hasOwnProperty(p)) {
        str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
      }
    return str.join("&");
  };
  let store = localStorage;
  if (store && btoa) {
    let tracker = JSON.parse(store.getItem('huyBlogTracker') || "{}");
    let today = btoa((new Date()).toDateString());
    let currentURL = window.location.href;
    let urlTrackingKey = btoa(currentURL);
    if (!tracker[urlTrackingKey] || tracker[urlTrackingKey] !== today) {
      tracker[urlTrackingKey] = today;
      let trackData = {
        userAgent: navigator.userAgent,
        language: navigator.language,
        url: currentURL,
        refer: document.referrer
      };
      let trackParams = serialize(trackData);
      let trackURL = "https://us-central1-huys-blog-comment.cloudfunctions.net/sayHello?" + trackParams;
      fetch(trackURL).then(function(response) { });
    }
    store.setItem('huyBlogTracker', JSON.stringify(tracker));
  }
</script>